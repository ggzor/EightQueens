pos(1).
pos(2).
pos(3).
pos(4).

queens(Q1, Q2, Q3, Q4) :-
    pos(Q1), pos(Q2), pos(Q3), pos(Q4),
    Q1 =\= Q2, Q1 =\= Q3, Q1 =\= Q4,
    Q2 =\= Q3, Q2 =\= Q4,
    Q3 =\= Q4,

    1 + Q1 =\= 2 + Q2, 1 + Q1 =\= 3 + Q3, 1 + Q1 =\= 4 + Q4,
    2 + Q2 =\= 3 + Q3, 2 + Q2 =\= 4 + Q4,
    3 + Q3 =\= 4 + Q4,

    1 + Q2 =\= 2 + Q1, 1 + Q3 =\= 3 + Q1, 1 + Q4 =\= 4 + Q1,
    2 + Q3 =\= 3 + Q2, 2 + Q4 =\= 4 + Q2,
    3 + Q4 =\= 4 + Q3.

queens([Q1, Q2, Q3, Q4]) :- queens(Q1, Q2, Q3, Q4).
